<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Dashboard · Home</title>
<script src="https://code.iconify.design/3/3.1.0/iconify.min.js"></script>
<link rel="stylesheet" href="./css/Home.css" />
<script src="./js/lang.js"></script>

</head>
<body>

<div class="app">
  <!-- Sidebar -->
  <aside class="sidebar">
    <div class="brand selected">
      <img src="Images/Logo.png" alt="Logo" />
      <div class="name">Wujed</div>
    </div>

    <div class="section-label">Dashboards</div>
    <nav class="nav">
      <a href="FlaggedReports.html" class="nav-item">Flagged Reports</a>
      <a href="RejectedMatches.html" class="nav-item">Rejected Matches</a>
    </nav>

    <div class="spacer"></div>

    <!-- Profile -->
    <div class="profile" id="profileBtn">
      <img src="Images/ProfilePic.jpg" alt="PFP" />
      <div class="pname">Raneem</div>
    </div>

    <!-- Profile Popover -->
    <div class="profile-popover" id="profilePopover">
      <div class="pp-item" id="ppLang">
        <span class="iconify" data-icon="mdi:swap-horizontal"></span>
        <span>العربية</span>
      </div>
      <div class="pp-divider"></div>
      <div class="pp-item" id="ppLogout" style="font-weight:700;">
        <span class="iconify" data-icon="mdi:logout"></span>
        <span>Log Out</span>
      </div>
    </div>
  </aside>

  <!-- Main content -->
  <main class="content">
    <div class="crumbs">Home</div>

    <div class="center-wrap">
      <div class="center-card" aria-labelledby="welcome">
        <h1 id="welcome" class="welcome">
          Welcome, <span class="hi">Raneem!</span>
        </h1>
        <p class="subtitle">
          Manage reports and matches easily from your dashboard.
        </p>
      </div>
    </div>

    <footer class="footer">
      <span>© 2025 Wujed</span>
      <span>All rights reserved</span>
    </footer>
  </main>
</div>

<script>
  const profileBtn = document.getElementById('profileBtn');
  const profilePanel = document.getElementById('profilePopover');

  function closeProfile() {
    profilePanel.classList.remove('show');
  }

  profileBtn.addEventListener('click', (e) => {
    e.stopPropagation();
    profilePanel.classList.toggle('show');
  });

  document.addEventListener('click', (e) => {
    if (!profilePanel.contains(e.target) && !profileBtn.contains(e.target)) {
      closeProfile();
    }
  });

  document.getElementById('ppLang')?.addEventListener('click', () => {
    closeProfile();
    alert('Language switch to العربية (stub).');
  });

  document.getElementById('ppLogout')?.addEventListener('click', () => {
    closeProfile();
    const confirmed = confirm('Are you sure you want to log out?');
    if (confirmed) {
      // Redirect to login page or handle logout
      window.location.href = 'Sign-In.html';
    }
  });
</script>

</body>
</html>
