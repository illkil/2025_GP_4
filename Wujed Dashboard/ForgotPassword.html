<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title data-i18n="forgotTitle">Forgot Password</title>
<script src="https://code.iconify.design/3/3.1.0/iconify.min.js"></script>
<link rel="stylesheet" href="./css/Verification.css" />
<link rel="icon" type="image/png" href="images/Logo.png">
</head>
<body>

  <section class="card" role="dialog" aria-labelledby="title">
    <div class="top">
      <a href="Sign-In.html" class="back" aria-label="Back">
        <span class="iconify" data-icon="mdi:chevron-left" data-width="22" data-height="22"></span>
      </a>
      <h1 id="title" data-i18n="forgotPasswordTitle">Forgot Password</h1>
      <span class="spacer" aria-hidden="true"></span>

    </div>

    <div class="message-wrap">
      <p id="msgInfo" class="message show" data-i18n="msgForgotInfo">
        Enter your email account to reset your password
      </p>
      <p id="msgError" class="message" data-i18n="msgForgotError">
        Please enter a valid email address.
      </p>
    </div>

    <form id="forgotForm" novalidate>
      <!-- Email -->
      <div class="field-group">
        <label for="email" data-i18n="emailLabel">Email</label>
        <div class="field">
          <input id="email" name="email" type="email" required />
        </div>
      </div>

      <button type="submit" id="submitBtn" class="submit" disabled data-i18n="continueBtn">Continue</button>
    </form>
  </section>

<script>
  /* ===== Email Validation ===== */
  const emailEl = document.getElementById("email");
  const submitBtn = document.getElementById("submitBtn");
  const msgInfo = document.getElementById("msgInfo");
  const msgError = document.getElementById("msgError");

  emailEl.addEventListener("input", () => {
    const valid = emailEl.checkValidity();
    submitBtn.disabled = !valid;
    submitBtn.classList.toggle("enabled", valid);

    if (emailEl.value && !valid) {
      msgInfo.classList.remove("show");
      msgError.classList.add("show");
    } else {
      msgError.classList.remove("show");
      msgInfo.classList.add("show");
    }
  });

  document.getElementById("forgotForm").addEventListener("submit", (e) => {
    e.preventDefault();
    if (!emailEl.checkValidity()) return;

    const email = emailEl.value.trim();

    // ğŸ”¹ Ø§Ø­ÙØ¸ Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„ Ù…Ø¤Ù‚ØªÙ‹Ø§ (Ø¹Ø´Ø§Ù† ØªØ³ØªØ®Ø¯Ù…Ù‡ Ø¨Ø§Ù„ØµÙØ­Ø© Ø§Ù„ØªØ§Ù„ÙŠØ©)
    localStorage.setItem("resetEmail", email);

    // ğŸ”¹ ØªÙ‚Ø¯Ø± ØªØ¹Ø±Ø¶ ØªÙ†Ø¨ÙŠÙ‡ Ø¨Ø³ÙŠØ· Ù‚Ø¨Ù„ Ø§Ù„Ù†Ù‚Ù„ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
    alert("A reset link has been sent to: " + email);

    // ğŸ”¹ Ø¨Ø¹Ø¯ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ØŒ ÙŠØ±ÙˆØ­ Ù„ØµÙØ­Ø© Ø§Ù„ØªØ­Ù‚Ù‚ (Verification.html)
    window.location.href = "Verification.html";
  });
</script>

<script src="./js/lang.js"></script>
</body>
</html>
